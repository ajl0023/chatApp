{"version":3,"sources":["submit-button.svg","Input.js","Message.js","socketInstance.js","UserContext.js","Users.js","Chat.js","Join.js","App.js","index.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","d","fillRule","stroke","SvgSubmitButton","_ref","svgRef","title","titleId","props","className","height","width","viewBox","ref","id","ForwardRef","Input","React","forwardRef","inputRef","compare","handleSubmit","value","defaultValue","useRef","current","innerHTML","useEffect","contentEditable","data-contents","role","data-text","name","dangerouslySetInnerHTML","__html","onKeyDown","e","onInput","type","onClick","Message","msg","currentUser","getPosition","handleMouseOut","messageRef","bottom","document","getElementById","scrollIntoView","block","getBoundingClientRect","sentAt","user","handleUser","onMouseEnter","onMouseLeave","style","backgroundImage","profile","grad","handleTextStyle","text","getSocket","io","UserContext","createContext","Users","onMouseOver","users","onMouseOut","src","image","alt","Chat","location","useState","formattedMessages","setFormattedMessages","setText","setChat","setUsers","queryString","parse","search","room","setPosition","setHoverState","setHoveredMessage","scrollToBottom","history","useHistory","scrollContainer","emit","data","push","window","addEventListener","preventDefault","tooltipContainer","root","removeChild","on","message","messages","messagesCopy","JSON","stringify","messageObj","lastMessageIndex","prop","getOwnPropertyNames","Math","pow","sentAtHours","Date","getHours","sentAtMinutes","getMinutes","displayTime","admin","forEach","lastIndex","gradient","toArray","reduce","arr","getRef","firstChild","pos","state","contentNode","createElement","position","inset","appendChild","display","messagePos","tooltipSize","timestampTop","y","transform","right","left","handleResize","tooltip","setAttribute","removeEventListener","timeStampFunc","checkHoverState","divRef","map","onScroll","Consumer","innerText","trim","handleChange","SignIn","setName","setRoom","error","setError","connect","handleRoute","resp","getCurrentUser","placeholder","onChange","event","App","setCurrentUser","Provider","path","exact","render","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.e3eef55a.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M16.6915026,12.4744748 L3.50612381,13.2599618 C3.19218622,13.2599618 3.03521743,13.4170592 3.03521743,13.5741566 L1.15159189,20.0151496 C0.8376543,20.8006365 0.99,21.89 1.77946707,22.52 C2.41,22.99 3.50612381,23.1 4.13399899,22.8429026 L21.714504,14.0454487 C22.6563168,13.5741566 23.1272231,12.6315722 22.9702544,11.6889879 C22.8132856,11.0605983 22.3423792,10.4322088 21.714504,10.118014 L4.13399899,1.16346272 C3.34915502,0.9 2.40734225,1.00636533 1.77946707,1.4776575 C0.994623095,2.10604706 0.8376543,3.0486314 1.15159189,3.99121575 L3.03521743,10.4322088 C3.03521743,10.5893061 3.34915502,10.7464035 3.50612381,10.7464035 L16.6915026,11.5318905 C16.6915026,11.5318905 17.1624089,11.5318905 17.1624089,12.0031827 C17.1624089,12.4744748 16.6915026,12.4744748 16.6915026,12.4744748 Z\",\n  fillRule: \"evenodd\",\n  stroke: \"none\"\n});\n\nfunction SvgSubmitButton(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    className: \"crt8y2ji\",\n    height: \"20px\",\n    width: \"20px\",\n    viewBox: \"0 0 24 24\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSubmitButton);\nexport default __webpack_public_path__ + \"static/media/submit-button.45e83f2b.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useRef, useEffect } from \"react\";\r\nimport { ReactComponent as SubmitButton } from \"./submit-button.svg\";\r\nconst Input = React.forwardRef(({ handleSubmit, value }, inputRef) => {\r\n  let compare;\r\n  const defaultValue = useRef();\r\n  if (defaultValue.current) {\r\n    compare = defaultValue.current.innerHTML;\r\n  }\r\n  useEffect(() => {\r\n    if (value !== defaultValue.current.innerHTML) {\r\n      defaultValue.current.innerHTML = value;\r\n    }\r\n  }, [compare]);\r\n  const handleInput = () => {};\r\n  return (\r\n    <div ref={inputRef} className=\"input-container\">\r\n      <div\r\n        ref={defaultValue}\r\n        contentEditable\r\n        data-contents=\"true\"\r\n        role=\"textbox\"\r\n        data-text=\"true\"\r\n        name=\"text\"\r\n        dangerouslySetInnerHTML={{ __html: value }}\r\n        onKeyDown={(e) => handleSubmit(e, defaultValue)}\r\n        className=\"input-box\"\r\n        onInput={handleInput}\r\n        type=\"text\"\r\n      ></div>\r\n      <SubmitButton\r\n        className={\"submit-button\"}\r\n        onClick={(e) => handleSubmit(e, defaultValue)}\r\n      />\r\n    </div>\r\n  );\r\n});\r\nexport default Input;\r\n","import React, { useEffect, useRef } from \"react\";\r\nconst Message = ({ msg, currentUser, getPosition, handleMouseOut }) => {\r\n  const messageRef = useRef();\r\n  const bottom = document.getElementById(\"bottom\");\r\n  useEffect(() => {\r\n    bottom.scrollIntoView({ block: \"end\" });\r\n  }, []);\r\n  const handleUser = (msg) => {\r\n    if (msg.id === currentUser) {\r\n      return \"currentUser-text-container\";\r\n    }\r\n    if (msg.user === \"admin\") {\r\n      return \"admin-text-container\";\r\n    } else {\r\n      return \"incoming-text-container\";\r\n    }\r\n  };\r\n  const handleTextStyle = (msg) => {\r\n    if (msg.id === currentUser) {\r\n      return \"currentUser-message\";\r\n    }\r\n    if (msg.user === \"admin\") {\r\n      return \"admin-message\";\r\n    } else {\r\n      return \"incoming-message\";\r\n    }\r\n  };\r\n  let userPosRef;\r\n  if (messageRef.current) {\r\n    userPosRef = messageRef.current.getBoundingClientRect();\r\n  }\r\n  return (\r\n    <div className=\"messages\">\r\n      <div id={msg.sentAt} className={handleUser(msg)}>\r\n        <div ref={messageRef} className=\"message-profile-container\">\r\n          {msg.user !== \"admin\" && msg.id !== currentUser ? (\r\n            <span\r\n              onMouseEnter={(e) => {\r\n                getPosition(e, msg, msg.user, currentUser === msg.id);\r\n              }}\r\n              onMouseLeave={() => {\r\n                handleMouseOut();\r\n              }}\r\n              style={{\r\n                backgroundImage: msg.profile && msg.profile.grad,\r\n              }}\r\n              className=\"profile-picture-container\"\r\n            ></span>\r\n          ) : null}\r\n          <p\r\n            onMouseEnter={(e) => {\r\n              getPosition(e, msg, null, currentUser === msg.id);\r\n            }}\r\n            onMouseLeave={() => {\r\n              handleMouseOut();\r\n            }}\r\n            className={handleTextStyle(msg)}\r\n            dangerouslySetInnerHTML={{ __html: msg.text }}\r\n          ></p>\r\n        </div>{\" \"}\r\n      </div>{\" \"}\r\n    </div>\r\n  );\r\n};\r\nexport default Message;\r\n","import io from \"socket.io-client\";\r\nexport let getSocket = io(\"\");\r\n//localhost:5500\r\nexport const getNewSocket = () => {\r\n  getSocket = io(\"\");\r\n};\r\n","import React from \"react\";\r\n\r\nexport const UserContext = React.createContext();\r\n","import React, { useRef } from \"react\";\r\nconst Users = (props) => {\r\n  const user = useRef();\r\n  return (\r\n    <div ref={user}>\r\n      <div\r\n        onMouseOver={(e) => {\r\n          props.getPosition(e, null, props.users.name);\r\n        }}\r\n        onMouseOut={() => {\r\n          props.handleMouseOut();\r\n        }}\r\n        className=\"userbar-image-container\"\r\n        src={props.users.image}\r\n        alt=\"\"\r\n        style={{\r\n          backgroundImage: props.users.grad,\r\n        }}\r\n      ></div>\r\n    </div>\r\n  );\r\n};\r\nexport default Users;\r\n","import queryString from \"query-string\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Input from \"./Input\";\r\nimport Message from \"./Message\";\r\nimport { getSocket } from \"./socketInstance\";\r\nimport { UserContext } from \"./UserContext\";\r\nimport Users from \"./Users\";\r\nconst Chat = ({ location }) => {\r\n  const [formattedMessages, setFormattedMessages] = useState([]);\r\n  const [text, setText] = useState(\"\");\r\n  const [, setChat] = useState([]);\r\n  const [users, setUsers] = useState([]);\r\n  const { name, room } = queryString.parse(location.search);\r\n  const [, setPosition] = useState({});\r\n  const [, setHoverState] = useState(false);\r\n  const [, setHoveredMessage] = useState({});\r\n  const scrollToBottom = useRef(null);\r\n  const history = useHistory();\r\n  const scrollContainer = useRef();\r\n  useEffect(() => {\r\n    getSocket.emit(\"connectCheck\", room, (data) => {\r\n      if (!data) {\r\n        history.push(\"/\");\r\n      }\r\n    });\r\n    window.addEventListener(\"beforeunload\", (e) => {\r\n      e.preventDefault();\r\n      getSocket.emit(\"disconnectUser\", name, room);\r\n    });\r\n    return () => {\r\n      let tooltipContainer = document.getElementById(\"tooltip-container\");\r\n      let root = document.getElementById(\"root\");\r\n      while (tooltipContainer) {\r\n        root.removeChild(tooltipContainer);\r\n        tooltipContainer = document.getElementById(\"tooltip-container\");\r\n      }\r\n      getSocket.emit(\"disconnectUser\", name, room);\r\n    };\r\n  }, []);\r\n  useEffect(() => {\r\n    getSocket.on(\"getUsers\", (data) => {\r\n      setUsers(data);\r\n    });\r\n    getSocket.emit(\"getUsers\", room);\r\n    getSocket.on(\"getMessages\", (message) => {\r\n      setChat((messages) => {\r\n        const messagesCopy = JSON.parse(JSON.stringify(messages));\r\n        let messageObj = {};\r\n        let lastMessageIndex = messagesCopy.length - 1;\r\n        let prop =\r\n          messagesCopy[lastMessageIndex] &&\r\n          Object.getOwnPropertyNames(messagesCopy[lastMessageIndex])[0];\r\n        if (prop !== \"admin\" && messages.length > 1) {\r\n          let sentDate = message.sentAt;\r\n          let recentDate =\r\n            messagesCopy[lastMessageIndex][prop][\r\n              messagesCopy[lastMessageIndex][prop].length - 1\r\n            ].sentAt;\r\n          let oneHour = 3.6 * Math.pow(10, 6);\r\n          if (sentDate - recentDate >= oneHour) {\r\n            let sentAtHours = new Date(message.sentAt).getHours();\r\n            let sentAtMinutes = new Date(message.sentAt).getMinutes();\r\n            let displayTime = `${\r\n              sentAtHours === 0\r\n                ? 12\r\n                : sentAtHours > 12\r\n                ? sentAtHours - 12\r\n                : sentAtHours\r\n            }:${sentAtMinutes < 10 ? \"0\" + sentAtMinutes : sentAtMinutes} ${\r\n              sentAtHours > 12 ? \"PM\" : \"AM\"\r\n            }`;\r\n            messagesCopy.push({\r\n              admin: [\r\n                {\r\n                  user: \"admin\",\r\n                  text: displayTime,\r\n                },\r\n              ],\r\n            });\r\n            prop = \"admin\";\r\n          }\r\n        }\r\n        if (lastMessageIndex >= 0 && prop === message.user) {\r\n          messagesCopy[lastMessageIndex][message.user] = [\r\n            ...messagesCopy[lastMessageIndex][message.user],\r\n            message,\r\n          ];\r\n        } else {\r\n          messageObj[message.user] = [message];\r\n          messagesCopy.push(messageObj);\r\n        }\r\n        messagesCopy.forEach((messages) => {\r\n          let prop = Object.getOwnPropertyNames(messages)[0];\r\n          messages[prop].forEach((message) => {\r\n            delete message.profile;\r\n          });\r\n          let lastIndex = messages[prop].length - 1;\r\n          messages[prop][lastIndex].profile =\r\n            messages[prop][lastIndex].gradient;\r\n        });\r\n        let toArray = messagesCopy.reduce((arr, message) => {\r\n          let prop = Object.getOwnPropertyNames(message)[0];\r\n          for (let i = 0; i < message[prop].length; i++) {\r\n            arr.push(message[prop][i]);\r\n          }\r\n          return arr;\r\n        }, []);\r\n        setFormattedMessages(() => {\r\n          return toArray;\r\n        });\r\n        return messagesCopy;\r\n      });\r\n    });\r\n    getSocket.emit(\"initial\", room);\r\n  }, [location.search]);\r\n  const getRef = () => {};\r\n  const handleMouseOut = () => {\r\n    setHoveredMessage(() => {\r\n      return false;\r\n    });\r\n    let tooltipContainer = document.getElementById(\"tooltip-container\");\r\n    while (tooltipContainer.firstChild) {\r\n      tooltipContainer.removeChild(tooltipContainer.firstChild);\r\n    }\r\n  };\r\n  const getPosition = (pos, msg, user, currentUser) => {\r\n    if (user || (msg && msg.user !== \"admin\")) {\r\n      setHoveredMessage(() => {\r\n        return {\r\n          state: true,\r\n          message: pos,\r\n        };\r\n      });\r\n      let contentNode = document.createElement(\"p\");\r\n      let tooltipContainer = document.getElementById(\"tooltip-container\");\r\n      if (msg && msg.sentAt && !user) {\r\n        contentNode.className = \"timestamp-hover-currentUser\";\r\n        let sentAtHours = new Date(msg.sentAt).getHours();\r\n        let sentAtMinutes = new Date(msg.sentAt).getMinutes();\r\n        contentNode.innerHTML = `${\r\n          sentAtHours === 0\r\n            ? 12\r\n            : sentAtHours > 12\r\n            ? sentAtHours - 12\r\n            : sentAtHours\r\n        }:${sentAtMinutes < 10 ? \"0\" + sentAtMinutes : sentAtMinutes} ${\r\n          sentAtHours > 12 ? \"PM\" : \"AM\"\r\n        }`;\r\n      } else if (user) {\r\n        contentNode.className = \"hover-user\";\r\n        contentNode.innerHTML = user;\r\n      }\r\n      tooltipContainer.style.position = \"absolute\";\r\n      tooltipContainer.style.inset = \"0px auto auto 0px\";\r\n      tooltipContainer.appendChild(contentNode);\r\n      tooltipContainer.style.display = \"block\";\r\n      let tooltipSize = tooltipContainer.getBoundingClientRect();\r\n      let messagePos;\r\n      if (user) {\r\n        messagePos = pos.target.getBoundingClientRect();\r\n      } else {\r\n        messagePos = pos.target.getBoundingClientRect();\r\n      }\r\n      let timestampTop =\r\n        messagePos.y + messagePos.height / 2 - tooltipSize.height / 2;\r\n      tooltipContainer.style.transform = `translate(${`${\r\n        currentUser\r\n          ? messagePos.right\r\n          : messagePos.left - tooltipContainer.getBoundingClientRect().width\r\n      }px`},${`${timestampTop}px`})`;\r\n    }\r\n  };\r\n  const handleScroll = () => {\r\n    let tooltipContainer = document.getElementById(\"tooltip-container\");\r\n    setHoveredMessage((state) => {\r\n      if (state.state) {\r\n        let messagePos = state.message.target.getBoundingClientRect();\r\n        let tooltipSize = tooltipContainer.getBoundingClientRect();\r\n        let timestampTop =\r\n          messagePos.y + messagePos.height / 2 - tooltipSize.height / 2;\r\n        tooltipContainer.style.transform = `translate(${`${messagePos.right}px`},${`${timestampTop}px`})`;\r\n        tooltipContainer.style.display = \"block\";\r\n      }\r\n      return state;\r\n    });\r\n  };\r\n  const handleResize = () => {\r\n    let tooltipContainer = document.getElementById(\"tooltip-container\");\r\n    setHoveredMessage((state) => {\r\n      if (state.state) {\r\n        let messagePos = state.message.target.getBoundingClientRect();\r\n        let tooltipSize = tooltipContainer.getBoundingClientRect();\r\n        let timestampTop =\r\n          messagePos.y + messagePos.height / 2 - tooltipSize.height / 2;\r\n        tooltipContainer.style.transform = `translate(${`${messagePos.right}px`},${`${timestampTop}px`})`;\r\n        tooltipContainer.style.display = \"block\";\r\n      }\r\n      return state;\r\n    });\r\n  };\r\n  useEffect(() => {\r\n    window.addEventListener(\"resize\", handleResize);\r\n    let tooltip = document.createElement(\"div\");\r\n    tooltip.setAttribute(\"id\", \"tooltip-container\");\r\n    document.getElementById(\"root\").appendChild(tooltip);\r\n    return () => {\r\n      window.removeEventListener(\"resize\", handleResize);\r\n    };\r\n  }, []);\r\n  const handleChange = (e) => {\r\n    setText(e.target.innerText);\r\n  };\r\n  const handleSubmit = (e, ref) => {\r\n    if (e.key === \"Enter\" || e.type === \"click\") {\r\n      let target = ref.current.innerText.trim();\r\n      if (target.length > 0) {\r\n        getSocket.emit(\"getMessages\", name, room, target);\r\n      } else {\r\n        return;\r\n      }\r\n    }\r\n  };\r\n  const timeStampFunc = (pos, msg) => {\r\n    setHoverState(true);\r\n    setPosition(pos);\r\n    setHoveredMessage(msg);\r\n  };\r\n  const checkHoverState = (state) => {\r\n    setHoverState(state);\r\n  };\r\n  const divRef = useRef(null);\r\n  return (\r\n    <>\r\n      <div className=\"chat-wrapper\">\r\n        <div className=\"scrollRef-wrapper\">\r\n          <div className=\"chat-message-container\">\r\n            <div className=\"userbar-container\">\r\n              {users.map((user) => {\r\n                return (\r\n                  <Users\r\n                    handleMouseOut={handleMouseOut}\r\n                    getPosition={getPosition}\r\n                    users={user}\r\n                  />\r\n                );\r\n              })}\r\n            </div>\r\n            <div className=\"container-2\">\r\n              <p className=\"chat-header\">{room}</p>\r\n              <div\r\n                onScroll={handleScroll}\r\n                ref={scrollContainer}\r\n                id=\"msg-box\"\r\n                className=\"chat-message-box\"\r\n              >\r\n                <UserContext.Consumer>\r\n                  {({ currentUser }) => {\r\n                    return (\r\n                      <div ref={divRef} className=\"chat-box-container\">\r\n                        {formattedMessages.map((msg) => {\r\n                          return (\r\n                            <Message\r\n                              getRef={getRef}\r\n                              key={msg.sentAt}\r\n                              getPosition={getPosition}\r\n                              handleMouseOut={handleMouseOut}\r\n                              checkHoverState={checkHoverState}\r\n                              timeStampFunc={timeStampFunc}\r\n                              currentUser={currentUser}\r\n                              location={location}\r\n                              msg={msg}\r\n                            />\r\n                          );\r\n                        })}\r\n                        <div\r\n                          id=\"bottom\"\r\n                          className=\"bottom-of-div\"\r\n                          ref={scrollToBottom}\r\n                        ></div>\r\n                      </div>\r\n                    );\r\n                  }}\r\n                </UserContext.Consumer>\r\n              </div>\r\n              <div></div>\r\n              <Input\r\n                value={text}\r\n                handleSubmit={handleSubmit}\r\n                handleChange={handleChange}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\nexport default Chat;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport io from \"socket.io-client\";\r\nimport { getNewSocket, getSocket } from \"./socketInstance\";\r\nexport default function SignIn(props) {\r\n  const [name, setName] = useState(\"\");\r\n  const [room, setRoom] = useState(\"\");\r\n  const [error, setError] = useState(false);\r\n\r\n  const history = useHistory();\r\n  useEffect(() => {\r\n    getNewSocket();\r\n    getSocket.on(\"connect\", () => {});\r\n    if (!getSocket.id) {\r\n      io.connect();\r\n    }\r\n    getSocket.on(\"join\", (data) => {\r\n      if (data.error) {\r\n        setError(data);\r\n      }\r\n    });\r\n  }, []);\r\n  const handleRoute = (e) => {\r\n    if (e.key === \"Enter\" || e.type === \"click\") {\r\n      getSocket.emit(\"join\", name, room, getSocket.id, (resp) => {\r\n        if (resp.error) {\r\n          return;\r\n        } else {\r\n          props.getCurrentUser(getSocket.id);\r\n          history.push(`/chat?name=${name}&room=${room}`);\r\n        }\r\n      });\r\n    }\r\n  };\r\n  const handleChange = (e) => {\r\n    setName(e.target.value);\r\n  };\r\n  return (\r\n    <div className=\"join-wrapper\">\r\n      <div\r\n        onClick={() => {\r\n          setError(false);\r\n        }}\r\n        className=\"join-container\"\r\n      >\r\n        <h1 className=\"join-header\">Join</h1>\r\n        <div className=\"join-input-container\">\r\n          <div>\r\n            <input\r\n              className=\"input-field\"\r\n              placeholder=\"Name\"\r\n              type=\"text\"\r\n              onChange={handleChange}\r\n            />\r\n          </div>\r\n          <div className=\"input-field-room-container\">\r\n            <input\r\n              className=\"input-field-room\"\r\n              onKeyDown={(e) => handleRoute(e)}\r\n              placeholder=\"Room\"\r\n              type=\"text\"\r\n              onChange={(event) => setRoom(event.target.value)}\r\n            />\r\n            <div className={!error ? `inactive` : `error-container`}>\r\n              <p className=\"error-message\">{error.error}</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <button\r\n          className=\"join-signin-but\"\r\n          onClick={(e) =>\r\n            !name || !room ? e.preventDefault() : handleRoute(e)\r\n          }\r\n          type=\"submit\"\r\n        >\r\n          Sign In\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from \"react\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport Chat from \"./Chat\";\nimport Join from \"./Join\";\nimport { UserContext } from \"./UserContext\";\n\nimport \"./myApp.css\";\nconst App = () => {\n  const [currentUser, setCurrentUser] = useState({});\n\n  const getCurrentUser = (user) => {\n    setCurrentUser(user);\n  };\n  return (\n    <Router>\n      {\" \"}\n      <UserContext.Provider\n        value={{\n          currentUser,\n        }}\n      >\n        <Route\n          path=\"/\"\n          exact\n          render={(props) => (\n            <Join getCurrentUser={getCurrentUser} {...props} />\n          )}\n        ></Route>\n        <Route\n          path=\"/chat\"\n          exact\n          render={(props) => <Chat {...props} />}\n        ></Route>\n      </UserContext.Provider>\n    </Router>\n  );\n};\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport App from \"./App\";\n\nimport { BrowserRouter as Router } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}